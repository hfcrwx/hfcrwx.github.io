---
title: "Dev"
published: true
---

## CentOS 7

```shell
yum update

yum grouplist
yum groupinfo Development Tools
yum groupinstall Development Tools

yum install epel-release
yum clean all
yum makecache

yum install cmake3
ln -sf /usr/bin/cmake3 /usr/bin/cmake
```

## muduo

```shell
yum install boost-devel protobuf-devel c-ares-devel libcurl-devel gd-devel thrift-devel python-thrift hiredis-devel mariadb-devel

git clone -b mariadb-client https://github.com.cnpmjs.org/hfcrwx/muduo.git

export CMAKE_LIBRARY_PATH=/usr/lib64/mysql
export LIBRARY_PATH=/usr/lib64/mysql
export BUILD_TYPE=debug
./build.sh
```

## libevent

```shell
git clone https://github.com/libevent/libevent.git
git checkout release-2.0.22-stable

./autogen.sh
./configure
make
```

## redis

```shell
git clone https://github.com/huangz1990/redis-3.0-annotated.git

git clone https://github.com.cnpmjs.org/redis/redis.git
git checkout 3.2.12
make

git checkout 6.0.13
yum install centos-release-scl
yum install devtoolset-9-gcc
scl enable devtoolset-9 bash
make

cd /root/redis/deps/hiredis
make
make hiredis-example hiredis-example-ae hiredis-example-libevent
```

## hiredis

```shell
yum install libevent-devel

git clone https://github.com/redis/hiredis.git
git checkout v0.12.1

make
make hiredis-example hiredis-example-libevent
export AE_DIR=/root/redis/src/
make hiredis-example-ae
```

## curl

```shell
git clone https://github.com.cnpmjs.org/curl/curl.git
git checkout curl-7_29_0

./buildconf
./configure
make

/root/curl/docs/examples/Makefile
# These examples require external dependencies that may not be commonly
# available on POSIX systems, so don't bother attempting to compile them here.
COMPLICATED_EXAMPLES = curlgtk.c curlx.c htmltitle.cpp cacertinmem.c       \
  ftpuploadresume.c ghiper.c hiperfifo.c htmltidy.c multithread.c          \
  opensslthreadlock.c sampleconv.c synctime.c threaded-ssl.c evhiperfifo.c \
  smooth-gtk-thread.c version-check.pl href_extractor.c asiohiper.cpp

/root/curl/docs/examples/README
/root/curl/docs/examples/Makefile.example

gcc -o hiperfifo hiperfifo.c -lcurl -levent
g++ -o asiohiper asiohiper.cpp -lcurl -lboost_system
```

## mariadbclient

```shell
git clone https://github.com/mariadb-corporation/mariadb-connector-c.git
git checkout v_2.3.7
```

## mariadb

```shell
git clone https://github.com.cnpmjs.org/MariadDB/server.git
vim .gitmodules
	github.com --> github.com.cnpmjs.org
git submodule sync
git submodule update --init --recursive

git clone --recursive https://github.com/MariaDB/server.git
git checkout mariadb-5.5.68

https://mariadb.com/kb/en/Build_Environment_Setup_for_Linux/
yum install ncurses-devel

mkdir build && cd build && cmake ..
server/client/async_example
server/tests/async_queries
```

## evpp

```shell
yum install glog-devel gflags
git clone --recursive https://github.com/Qihoo360/evpp.git
cmake .. -DCMAKE_BUILD_TYPE=Debug
```

## mysql

```shell
https://dev.mysql.com/doc/mysql-yum-repo-quick-guide/en/
rpm -Uvh https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm
yum repolist all | grep mysql

vim /etc/yum.repos.d/mysql-community.repo
# Enable to use MySQL 5.7
[mysql57-community]
name=MySQL 5.7 Community Server
baseurl=http://repo.mysql.com/yum/mysql-5.7-community/el/7/$basearch/
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql

[mysql80-community]
name=MySQL 8.0 Community Server
baseurl=http://repo.mysql.com/yum/mysql-8.0-community/el/7/$basearch/
enabled=0
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql

yum repolist enabled | grep mysql
yum install mysql-community-server
systemctl start mysqld
systemctl status mysqld
grep 'temporary password' /var/log/mysqld.log
mysql -uroot -p

mysql> ALTER USER 'root'@'localhost' IDENTIFIED BY 'MyNewPass4!';
mysql> GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'MyNewPass4!' WITH GRANT OPTION;
```

## nginx

```shell
https://nginx.org/en/docs/configure.html
https://nginx.org/en/docs/beginners_guide.html
https://docs.nginx.com/nginx/admin-guide/
https://docs.nginx.com/nginx/admin-guide/installing-nginx/installing-nginx-open-source/

wget https://nginx.org/download/nginx-1.16.1.tar.gz
tar -xzvf nginx-1.16.1.tar.gz
cd nginx-1.16.1
./configure --with-http_ssl_module --with-http_realip_module --with-http_addition_module --with-http_secure_link_module --with-http_stub_status_module --with-http_gzip_static_module

yum install nginx
nginx
curl -I 127.0.0.1

systemctl start nginx
systemctl status nginx
systemctl enable nginx
```

